@model icrm.Models.UserProfileViewModel
@{ 
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!-- Meta -->
    <meta name="description" content="feedback managment system.">
    <meta name="author" content="feedback">

    <title>ICRM 2.0</title>

    <!-- vendor css -->
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
    <link href="~/Content/lib/jquery-toggles/css/toggles-full.css" rel="stylesheet">
    <link href="~/Content/lib/jt.timepicker/css/jquery.timepicker.css" rel="stylesheet">
    <link href="~/Content/lib/spectrum/css/spectrum.css" rel="stylesheet">
    <link href="~/Content/lib/bootstrap-tagsinput/css/bootstrap-tagsinput.css" rel="stylesheet">

    <!-- Feadback CSS -->
    <link rel="stylesheet" href="~/Content/css/slim.css">

</head>

<body>
    <div class="slim-header">
        <div class="container">
            <div class="slim-header-left">
                <h2 class="slim-logo"><a href="index.html">ICRM 2.0<span></span></a></h2>

                <div class="search-box">
                    <input type="text" class="form-control" placeholder="Search">
                    <button class="btn btn-primary"><i class="fa fa-search"></i></button>
                </div>
                <!-- search-box -->
            </div>
            <!-- slim-header-left -->
            <div class="slim-header-right">
                <div class="dropdown dropdown-a">
                    <a href="default.htm" class="header-notification" data-toggle="dropdown">
                        <i class="icon ion-ios-bolt-outline"></i>
                    </a>
                    <div class="dropdown-menu">
                        <div class="dropdown-menu-header">
                            <h6 class="dropdown-menu-title">Activity Logs</h6>
                            <div>
                                <a href="default.htm">Filter List</a>
                                <a href="default.htm">Settings</a>
                            </div>
                        </div>
                        <!-- dropdown-menu-header -->
                        <div class="dropdown-activity-list">
                            <div class="activity-label">Today, December 13, 2017</div>
                            <div class="activity-item">
                                <div class="row no-gutters">
                                    <div class="col-2 tx-right">10:15am</div>
                                    <div class="col-2 tx-center"><span class="square-10 bg-success"></span></div>
                                    <div class="col-8">Purchased christmas sale cloud storage</div>
                                </div>
                                <!-- row -->
                            </div>
                            <!-- activity-item -->
                            <div class="activity-item">
                                <div class="row no-gutters">
                                    <div class="col-2 tx-right">9:48am</div>
                                    <div class="col-2 tx-center"><span class="square-10 bg-danger"></span></div>
                                    <div class="col-8">Login failure</div>
                                </div>
                                <!-- row -->
                            </div>
                            <!-- activity-item -->
                            <div class="activity-item">
                                <div class="row no-gutters">
                                    <div class="col-2 tx-right">7:29am</div>
                                    <div class="col-2 tx-center"><span class="square-10 bg-warning"></span></div>
                                    <div class="col-8">(D:) Storage almost full</div>
                                </div>
                                <!-- row -->
                            </div>
                            <!-- activity-item -->
                            <div class="activity-item">
                                <div class="row no-gutters">
                                    <div class="col-2 tx-right">3:21am</div>
                                    <div class="col-2 tx-center"><span class="square-10 bg-success"></span></div>
                                    <div class="col-8">1 item sold <strong>Christmas bundle</strong></div>
                                </div>
                                <!-- row -->
                            </div>
                            <!-- activity-item -->
                            <div class="activity-label">Yesterday, December 12, 2017</div>
                            <div class="activity-item">
                                <div class="row no-gutters">
                                    <div class="col-2 tx-right">6:57am</div>
                                    <div class="col-2 tx-center"><span class="square-10 bg-success"></span></div>
                                    <div class="col-8">Earn new badge <strong>Elite Author</strong></div>
                                </div>
                                <!-- row -->
                            </div>
                            <!-- activity-item -->
                        </div>
                        <!-- dropdown-activity-list -->
                        <div class="dropdown-list-footer">
                            <a href="page-activity.html"><i class="fa fa-angle-down"></i> Show All Activities</a>
                        </div>
                    </div>
                    <!-- dropdown-menu-right -->
                </div>
                <!-- dropdown -->
                <div class="dropdown dropdown-b">
                    <a href="default.htm" class="header-notification" data-toggle="dropdown">
                        <i class="icon ion-ios-bell-outline"></i>
                        <span class="indicator"></span>
                    </a>
                    <div class="dropdown-menu">
                        <div class="dropdown-menu-header">
                            <h6 class="dropdown-menu-title">Notifications</h6>
                            <div>
                                <a href="default.htm">Mark All as Read</a>
                                <a href="default.htm">Settings</a>
                            </div>
                        </div>
                        <!-- dropdown-menu-header -->
                        <div class="dropdown-list">
                            <!-- loop starts here -->
                            <a href="default.htm" class="dropdown-link">
                                <div class="media">
                                    <img src="../img/img8.jpg" alt="">
                                    <div class="media-body">
                                        <p><strong>Suzzeth Bungaos</strong> tagged you and 18 others in a post.</p>
                                        <span>October 03, 2017 8:45am</span>
                                    </div>
                                </div>
                                <!-- media -->
                            </a>
                            <!-- loop ends here -->
                            <a href="default.htm" class="dropdown-link">
                                <div class="media">
                                    <img src="../img/img9.jpg" alt="">
                                    <div class="media-body">
                                        <p><strong>Mellisa Brown</strong> appreciated your work <strong>The Social Network</strong></p>
                                        <span>October 02, 2017 12:44am</span>
                                    </div>
                                </div>
                                <!-- media -->
                            </a>
                            <a href="default.htm" class="dropdown-link read">
                                <div class="media">
                                    <img src="../img/img10.jpg" alt="">
                                    <div class="media-body">
                                        <p>20+ new items added are for sale in your <strong>Sale Group</strong></p>
                                        <span>October 01, 2017 10:20pm</span>
                                    </div>
                                </div>
                                <!-- media -->
                            </a>
                            <a href="default.htm" class="dropdown-link read">
                                <div class="media">
                                    <img src="../img/img2.jpg" alt="">
                                    <div class="media-body">
                                        <p><strong>Julius Erving</strong> wants to connect with you on your conversation with <strong>Ronnie Mara</strong></p>
                                        <span>October 01, 2017 6:08pm</span>
                                    </div>
                                </div>
                                <!-- media -->
                            </a>
                            <div class="dropdown-list-footer">
                                <a href="page-notifications.html"><i class="fa fa-angle-down"></i> Show All Notifications</a>
                            </div>
                        </div>
                        <!-- dropdown-list -->
                    </div>
                    <!-- dropdown-menu-right -->
                </div>
                <!-- dropdown -->
                <div class="dropdown dropdown-c">
                    <a href="#" class="logged-user" data-toggle="dropdown">
                        <img src="../img/img1.jpg" alt="">
                        <span>@System.Web.HttpContext.Current.User.Identity.Name</span>
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <nav class="nav">
                            <a href="page-profile.html" class="nav-link"><i class="icon ion-person"></i> View Profile</a>
                            <a href="page-edit-profile.html" class="nav-link"><i class="icon ion-compose"></i> Edit Profile</a>
                            <a href="page-activity.html" class="nav-link"><i class="icon ion-ios-bolt"></i> Activity Log</a>
                            <a href="page-settings.html" class="nav-link"><i class="icon ion-ios-gear"></i> Account Settings</a>
                            <a href="page-signin.html" class="nav-link"><i class="icon ion-forward"></i> Sign Out</a>
                        </nav>
                    </div>
                    <!-- dropdown-menu -->
                </div>
                <!-- dropdown -->
            </div>
            <!-- header-right -->
        </div>
        <!-- container -->
    </div>
    <!-- slim-header -->

    <div class="slim-navbar">
        <div class="container">
            <ul class="nav">
                <li class="nav-item  active">
                    <a class="nav-link" href="#">
                        <i class="icon ion-ios-home-outline"></i>
                        <span>Dashboard</span>
                    </a>

                    <!-- sub-item -->
                </li>


                <li class="nav-item with-sub ">
                    <a class="nav-link" href="#" data-toggle="dropdown">
                        <i class="icon ion-ios-gear-outline"></i>
                        <span>Menu</span>
                    </a>
                    <div class="sub-item">
                        <ul>
                            <li class="active"><a href="category.html">Category</a></li>
                            <li><a href="location.html">Location</a></li>
                            <li><a href="sublocation.html">Sub Location</a></li>
                            <li><a href="nationality.html">Nationality</a></li>
                            <li><a href="Position.html">Position</a></li>
                            <li><a href="priority.html">Priority</a></li>
                            <li><a href="Job%20Title.html">Job Title</a></li>
                            <li><a href="cost.html">Cost Center</a></li>
                            <li><a href="Religion.html">Religion</a></li>

                        </ul>
                    </div>
                    <!-- dropdown-menu -->
                </li>
                <li class="nav-item with-sub ">
                    <a class="nav-link" href="#" data-toggle="dropdown">
                        <i class="icon ion-ios-person-outline"></i>
                        <span>Users</span>
                    </a>
                    <div class="sub-item">
                        <ul>
                            <li class="active"><a href="add%20hr.html">HR</a></li>
                            <li><a href="add%20department.html">Department</a></li>
                            <li><a href="list.html">View Users</a></li>

                        </ul>
                    </div>
                    <!-- dropdown-menu -->
                </li>
            </ul>
        </div>
        <!-- container -->
    </div>
    <!-- slim-navbar -->

    <div class="slim-mainpanel">
        <div class="container">
            <div class="slim-pageheader">
                <ol class="breadcrumb slim-breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Edit Profile</li>
                </ol>
                <h6 class="slim-pagetitle">Edit Profile</h6>
            </div>
            <!-- slim-pageheader -->

            <div class="section-wrapper">
                <label class="section-title">Edit Profile</label>


                @using (Html.BeginForm("updateProfile", "userprofile", FormMethod.Post, null))
                {

                    @Html.AntiForgeryToken()

                    <input type="hidden" name="rolename" value="@ViewBag.rolename" />

                    <div class="form-layout">
                        <div class="row mg-b-25">
                           
                            <div class="row row-xs mg-b-10">


                                <div class="col-sm">
                                    @Html.DropDownListFor(m => m.LocationId,
                                        new SelectList(ViewBag.Locationlist,
                                           "Id", "name"),"Choose Location", new { @class = "form-control select2", @id="location"})
                                </div>

                                <div class="col-sm">
                                    <select name="SubLocationId" id="sublocation" class="form-control select2">
                                        <option value="">Select SubLocation</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row row-xs mg-b-10">

                                <div class="col-sm">

                                    @Html.DropDownListFor(m => m.PositionId,
                                        new SelectList(ViewBag.Positionlist,
                                           "Id", "name"),"Choose Position", new { @class = "form-control select2"})
                                </div>

                                <div class="col-sm">
                                    @Html.DropDownListFor(m => m.NationalityId,
                                        new SelectList(ViewBag.Nationalitylist,
                                           "Id", "name"),"Choose Nationality", new { @class = "form-control select2"})
                                </div>


                            </div>


                            <div class="row row-xs mg-b-10">

                                <div class="col-sm">

                                    @Html.DropDownListFor(m => m.JobTitleId,
                                        new SelectList(ViewBag.Jobtitlelist,
                                           "Id", "name"),"Choose Job Title", new { @class = "form-control select2"})
                                </div>

                                <div class="col-sm">
                                    @Html.DropDownListFor(m => m.DepartmentId,
                                        new SelectList(ViewBag.Departmentlist,
                                           "Id", "name"),"Choose Department", new { @class = "form-control select2"})
                                </div>


                            </div>


                            <div class="row row-xs mg-b-10">

                                <div class="col-sm">

                                    @Html.DropDownListFor(m => m.PayScaleTypeId,
                                        new SelectList(ViewBag.PayScaleTypeList,
                                           "Id", "name"),"Choose PayScale Type", new { @class = "form-control select2"})
                                </div>

                                <div class="col-sm">
                                    @Html.DropDownListFor(m => m.ReligionId,
                                        new SelectList(ViewBag.Religionlist,
                                           "Id", "name"),"Choose Religion", new { @class = "form-control select2"})
                                </div>


                            </div>




                        </div><!-- row -->

                        <div class="form-layout-footer">
                            <button class="btn btn-primary bd-0">Submit Form</button>
                            <button class="btn btn-secondary bd-0">Cancel</button>
                        </div><!-- form-layout-footer -->
                    </div>
                }


            </div>
            <!-- container -->
        </div>
        <!-- slim-mainpanel -->

        <div class="slim-footer">
            <div class="container">
                <p>Copyright 2018 &copy; All Rights Reserved. </p>

            </div>
            <!-- container -->
        </div>
        <!-- slim-footer -->

        <script src="~/Content/lib/jquery/js/jquery.js"></script>
        <script src="~/Content/lib/popper.js/js/popper.js"></script>
        <script src="~/Content/lib/bootstrap/js/bootstrap.js"></script>
        <script src="~/Content/lib/jquery.cookie/js/jquery.cookie.js"></script>
        <script src="~/Content/lib/moment/js/moment.js"></script>
        <script src="~/Content/lib/jquery-ui/js/jquery-ui.js"></script>
        <script src="~/Content/lib/jquery-toggles/js/toggles.min.js"></script>
        <script src="~/Content/lib/jt.timepicker/js/jquery.timepicker.js"></script>
        <script src="~/Content/lib/spectrum/js/spectrum.js"></script>
        <script src="~/Content/lib/jquery.maskedinput/js/jquery.maskedinput.js"></script>
        <script src="~/Content/lib/bootstrap-tagsinput/js/bootstrap-tagsinput.js"></script>

        <script src="~/Content/js/slim.js"></script>
        <script>
            $(function () {
                'use strict'

                // Toggles
                $('.toggle').toggles({
                    on: true,
                    height: 26
                });

                // Input Masks
                $('#dateMask').mask('99/99/9999');
                $('#phoneMask').mask('(999) 999-9999');
                $('#ssnMask').mask('999-99-9999');

                // Time Picker
                $('#tpBasic').timepicker();
                $('#tp2').timepicker({
                    'scrollDefault': 'now'
                });
                $('#tp3').timepicker();

                $('#setTimeButton').on('click', function () {
                    $('#tp3').timepicker('setTime', new Date());
                });

                // Color picker
                $('#colorpicker').spectrum({
                    color: '#17A2B8'
                });

                $('#showAlpha').spectrum({
                    color: 'rgba(23,162,184,0.5)',
                    showAlpha: true
                });

                $('#showPaletteOnly').spectrum({
                    showPaletteOnly: true,
                    showPalette: true,
                    color: '#DC3545',
                    palette: [
                        ['#1D2939', '#fff', '#0866C6', '#23BF08', '#F49917'],
                        ['#DC3545', '#17A2B8', '#6610F2', '#fa1e81', '#72e7a6']
                    ]
                });

            });

            $(function () {
                'use strict'

                // Datepicker
                $('.fc-datepicker').datepicker({
                    showOtherMonths: true,
                    selectOtherMonths: true,
                    dateFormat: 'dd-mm-yy'
                });

                $('#datepickerNoOfMonths').datepicker({
                    showOtherMonths: true,
                    selectOtherMonths: true,
                    numberOfMonths: 2
                });

            });

        </script>
        <script>
            $("#location").change(function () {
               // $('#sublocation').removeData;
                $('#sublocation')
                    .find('option')
                    .remove()
                    .end()
                    .append('<option value="">Select Sublocation</option>')
                    .val('0');
            var id = this.value;
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: '{"id":"' + id + '"}',
                url: "@Url.Action("getSublocations", "SubLocations")",
                dataType: "json",
                success: function (response) {
                    $.each(response, function (i, item) {
                        $('#sublocation').append($('<option>', {
                            value: item.Id,
                            text: item.name
                        }));
                    });
                },
                error: function (response) {
                    alert(response.responseText)
                }

            })
        });
        </script>
</body>

</html>
